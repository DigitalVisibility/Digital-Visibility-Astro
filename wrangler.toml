name = "digital-visibility-astro"
compatibility_date = "2024-01-01"

# KV Namespace for funnel data
[[kv_namespaces]]
binding = "FUNNEL_DATA"
id = "7a8832a631674679aa52f4f490e0c769"
preview_id = "7a8832a631674679aa52f4f490e0c769"

# Durable Object for engagement tracking
[[durable_objects.bindings]]
name = "ENGAGE_STORE"
class_name = "EngageStore"

# Durable Object migration
[[migrations]]
tag = "v1"
new_classes = ["EngageStore"]

# Cron Triggers for data aggregation
[[triggers]]
crons = ["*/15 * * * *"]  # Every 15 minutes for engagement data processing

# Environment variables (set these in Cloudflare dashboard)
[vars]
# GA4_ID = "G-T7HFBLX1X1"
# CLARITY_ID = "trt5xn1qai"
# CLAUDE_API_KEY = "your-claude-api-key"
ADMIN_USER = "admin"
ADMIN_PASS = "changeme123"

# Pages configuration
[env.production]
name = "digital-visibility-astro"

[env.preview]
name = "digital-visibility-astro-preview"